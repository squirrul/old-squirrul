!function(t){function n(e){if(o[e])return o[e].exports;var r=o[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,n),r.l=!0,r.exports}var e=window.webpackJsonp;window.webpackJsonp=function(n,o,i){for(var u,a,s=0,c=[];s<n.length;s++)a=n[s],r[a]&&c.push(r[a][0]),r[a]=0;for(u in o)Object.prototype.hasOwnProperty.call(o,u)&&(t[u]=o[u]);for(e&&e(n,o,i);c.length;)c.shift()()};var o={},r={2:0};n.e=function(t){function e(){a.onerror=a.onload=null,clearTimeout(s);var n=r[t];0!==n&&(n&&n[1](new Error("Loading chunk "+t+" failed.")),r[t]=void 0)}var o=r[t];if(0===o)return new Promise(function(t){t()});if(o)return o[2];var i=new Promise(function(n,e){o=r[t]=[n,e]});o[2]=i;var u=document.getElementsByTagName("head")[0],a=document.createElement("script");a.type="text/javascript",a.charset="utf-8",a.async=!0,a.timeout=12e4,n.nc&&a.setAttribute("nonce",n.nc),a.src=n.p+""+({0:"route-profile",1:"route-home"}[t]||t)+".chunk."+{0:"f2151",1:"a49b2"}[t]+".js";var s=setTimeout(e,12e4);return a.onerror=a.onload=e,u.appendChild(a),i},n.m=t,n.c=o,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="/",n.oe=function(t){throw console.error(t),t},n(n.s="pwNi")}({"/QC5":function(t,n,e){"use strict";function o(t,n){for(var e in n)t[e]=n[e];return t}function r(t,n,e){var o,r=/(?:\?([^#]*))?(#.*)?$/,i=t.match(r),u={};if(i&&i[1])for(var s=i[1].split("&"),c=0;c<s.length;c++){var f=s[c].split("=");u[decodeURIComponent(f[0])]=decodeURIComponent(f.slice(1).join("="))}t=a(t.replace(r,"")),n=a(n||"");for(var l=Math.max(t.length,n.length),p=0;p<l;p++)if(n[p]&&":"===n[p].charAt(0)){var d=n[p].replace(/(^\:|[+*?]+$)/g,""),h=(n[p].match(/[+*?]+$/)||x)[0]||"",g=~h.indexOf("+"),v=~h.indexOf("*"),_=t[p]||"";if(!_&&!v&&(h.indexOf("?")<0||g)){o=!1;break}if(u[d]=decodeURIComponent(_),g||v){u[d]=t.slice(p).map(decodeURIComponent).join("/");break}}else if(n[p]!==t[p]){o=!1;break}return(!0===e.default||!1!==o)&&u}function i(t,n){return t.rank<n.rank?1:t.rank>n.rank?-1:t.index-n.index}function u(t,n){return t.index=n,t.rank=f(t),t.attributes}function a(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}function s(t){return":"==t.charAt(0)?1+"*+?".indexOf(t.charAt(t.length-1))||4:5}function c(t){return a(t).map(s).join("")}function f(t){return t.attributes.default?0:c(t.attributes.path)}function l(t){return null!=t.__preactattr_||"undefined"!=typeof Symbol&&null!=t[Symbol.for("preactattr")]}function p(t,n){void 0===n&&(n="push"),j&&j[n]?j[n](t):"undefined"!=typeof history&&history[n+"State"]&&history[n+"State"](null,null,t)}function d(){var t;return t=j&&j.location?j.location:j&&j.getCurrentLocation?j.getCurrentLocation():"undefined"!=typeof location?location:N,""+(t.pathname||"")+(t.search||"")}function h(t,n){return void 0===n&&(n=!1),"string"!=typeof t&&t.url&&(n=t.replace,t=t.url),g(t)&&p(t,n?"replace":"push"),v(t)}function g(t){for(var n=O.length;n--;)if(O[n].canRoute(t))return!0;return!1}function v(t){for(var n=!1,e=0;e<O.length;e++)!0===O[e].routeTo(t)&&(n=!0);for(var o=C.length;o--;)C[o](t);return n}function _(t){if(t&&t.getAttribute){var n=t.getAttribute("href"),e=t.getAttribute("target");if(n&&n.match(/^\//g)&&(!e||e.match(/^_?self$/i)))return h(n)}}function b(t){if(0==t.button)return _(t.currentTarget||t.target||this),m(t)}function m(t){return t&&(t.stopImmediatePropagation&&t.stopImmediatePropagation(),t.stopPropagation&&t.stopPropagation(),t.preventDefault()),!1}function y(t){if(!(t.ctrlKey||t.metaKey||t.altKey||t.shiftKey||0!==t.button)){var n=t.target;do{if("A"===String(n.nodeName).toUpperCase()&&n.getAttribute("href")&&l(n)){if(n.hasAttribute("native"))return;if(_(n))return m(t)}}while(n=n.parentNode)}}function k(){S||("function"==typeof addEventListener&&(j||addEventListener("popstate",function(){v(d())}),addEventListener("click",y)),S=!0)}Object.defineProperty(n,"__esModule",{value:!0}),e.d(n,"subscribers",function(){return C}),e.d(n,"getCurrentUrl",function(){return d}),e.d(n,"route",function(){return h}),e.d(n,"Router",function(){return P}),e.d(n,"Route",function(){return T}),e.d(n,"Link",function(){return M});var w=e("KM04"),x=(e.n(w),{}),j=null,O=[],C=[],N={},S=!1,P=function(t){function n(n){t.call(this,n),n.history&&(j=n.history),this.state={url:n.url||d()},k()}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.shouldComponentUpdate=function(t){return!0!==t.static||(t.url!==this.props.url||t.onChange!==this.props.onChange)},n.prototype.canRoute=function(t){return this.getMatchingChildren(this.props.children,t,!1).length>0},n.prototype.routeTo=function(t){return this._didRoute=!1,this.setState({url:t}),this.updating?this.canRoute(t):(this.forceUpdate(),this._didRoute)},n.prototype.componentWillMount=function(){O.push(this),this.updating=!0},n.prototype.componentDidMount=function(){var t=this;j&&(this.unlisten=j.listen(function(n){t.routeTo(""+(n.pathname||"")+(n.search||""))})),this.updating=!1},n.prototype.componentWillUnmount=function(){"function"==typeof this.unlisten&&this.unlisten(),O.splice(O.indexOf(this),1)},n.prototype.componentWillUpdate=function(){this.updating=!0},n.prototype.componentDidUpdate=function(){this.updating=!1},n.prototype.getMatchingChildren=function(t,n,e){return t.filter(u).sort(i).map(function(t){var i=r(n,t.attributes.path,t.attributes);if(i){if(!1!==e){var u={url:n,matches:i};return o(u,i),delete u.ref,delete u.key,Object(w.cloneElement)(t,u)}return t}}).filter(Boolean)},n.prototype.render=function(t,n){var e=t.children,o=t.onChange,r=n.url,i=this.getMatchingChildren(e,r,!0),u=i[0]||null;this._didRoute=!!u;var a=this.previousUrl;return r!==a&&(this.previousUrl=r,"function"==typeof o&&o({router:this,url:r,previous:a,active:i,current:u})),u},n}(w.Component),M=function(t){return Object(w.h)("a",o({onClick:b},t))},T=function(t){return Object(w.h)(t.component,t)};P.subscribers=C,P.getCurrentUrl=d,P.route=h,P.Router=P,P.Route=T,P.Link=M,n.default=P},"7N8r":function(t,n,e){"use strict";n.__esModule=!0,n.default=function(t){function n(){var n=this;o.Component.call(this);var e=function(t){n.setState({child:t&&t.default||t})},r=t(e);r&&r.then&&r.then(e)}return n.prototype=new o.Component,n.prototype.constructor=n,n.prototype.render=function(t,n){return(0,o.h)(n.child,t)},n};var o=e("KM04")},JkW7:function(t,n,e){"use strict";function o(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}function r(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}function i(t){e.e(1).then(function(){t(e("D238"))}.bind(null,e)).catch(e.oe)}function u(t){e.e(0).then(function(){t(e("FEHc"))}.bind(null,e)).catch(e.oe)}function a(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function s(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}function c(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}Object.defineProperty(n,"__esModule",{value:!0});var f=(e("rq4c"),e("KM04")),l=e("/QC5"),p=e("R2pP"),d=e.n(p),h=e("sw5u"),g=e("u3et"),v=e.n(g),_=Object(f.h)("h1",null,"Preact App"),b=function(t){function n(){return o(this,t.apply(this,arguments))}return r(n,t),n.prototype.render=function(){return Object(f.h)("header",{class:v.a.header},_,Object(f.h)("nav",null,Object(f.h)(h.Link,{activeClassName:v.a.active,href:"/"},"Home"),Object(f.h)(h.Link,{activeClassName:v.a.active,href:"/profile"},"Me"),Object(f.h)(h.Link,{activeClassName:v.a.active,href:"/profile/john"},"John")))},n}(f.Component),m=e("7N8r"),y=e.n(m),k=y()(i),w=y()(u),x="https://gun-dearwafeum.now.sh/gun",j=Object(f.h)(b,null),O=Object(f.h)(w,{path:"/profile/",user:"me"}),C=Object(f.h)(w,{path:"/profile/:user"}),N=function(t){function n(){a(this,n);var e=s(this,t.call(this));return e.handleRoute=function(t){e.currentUrl=t.url},e.dbName="db"+window.location.hash,e.gun=d()(x).get(e.dbName),"undefined"!=typeof window&&(window.gun=e.gun),e}return c(n,t),n.prototype.render=function(){return Object(f.h)("div",{id:"app"},j,Object(f.h)(l.Router,{onChange:this.handleRoute},Object(f.h)(k,{path:"/",gun:this.gun,dbName:this.dbName}),O,C))},n}(f.Component);n.default=N},KM04:function(t){!function(){"use strict";function n(){}function e(t,e){var o,r,i,u,a=A;for(u=arguments.length;u-- >2;)U.push(arguments[u]);for(e&&null!=e.children&&(U.length||U.push(e.children),delete e.children);U.length;)if((r=U.pop())&&void 0!==r.pop)for(u=r.length;u--;)U.push(r[u]);else"boolean"==typeof r&&(r=null),(i="function"!=typeof t)&&(null==r?r="":"number"==typeof r?r+="":"string"!=typeof r&&(i=!1)),i&&o?a[a.length-1]+=r:a===A?a=[r]:a.push(r),o=i;var s=new n;return s.nodeName=t,s.children=a,s.attributes=null==e?void 0:e,s.key=null==e?void 0:e.key,void 0!==T.vnode&&T.vnode(s),s}function o(t,n){for(var e in n)t[e]=n[e];return t}function r(t,n){return e(t.nodeName,o(o({},t.attributes),n),arguments.length>2?[].slice.call(arguments,2):t.children)}function i(t){!t.__d&&(t.__d=!0)&&1==R.push(t)&&(T.debounceRendering||E)(u)}function u(){var t,n=R;for(R=[];t=n.pop();)t.__d&&C(t)}function a(t,n,e){return"string"==typeof n||"number"==typeof n?void 0!==t.splitText:"string"==typeof n.nodeName?!t._componentConstructor&&s(t,n.nodeName):e||t._componentConstructor===n.nodeName}function s(t,n){return t.__n===n||t.nodeName.toLowerCase()===n.toLowerCase()}function c(t){var n=o({},t.attributes);n.children=t.children;var e=t.nodeName.defaultProps;if(void 0!==e)for(var r in e)void 0===n[r]&&(n[r]=e[r]);return n}function f(t,n){var e=n?document.createElementNS("http://www.w3.org/2000/svg",t):document.createElement(t);return e.__n=t,e}function l(t){var n=t.parentNode;n&&n.removeChild(t)}function p(t,n,e,o,r){if("className"===n&&(n="class"),"key"===n);else if("ref"===n)e&&e(null),o&&o(t);else if("class"!==n||r)if("style"===n){if(o&&"string"!=typeof o&&"string"!=typeof e||(t.style.cssText=o||""),o&&"object"==typeof o){if("string"!=typeof e)for(var i in e)i in o||(t.style[i]="");for(var i in o)t.style[i]="number"==typeof o[i]&&!1===L.test(i)?o[i]+"px":o[i]}}else if("dangerouslySetInnerHTML"===n)o&&(t.innerHTML=o.__html||"");else if("o"==n[0]&&"n"==n[1]){var u=n!==(n=n.replace(/Capture$/,""));n=n.toLowerCase().substring(2),o?e||t.addEventListener(n,h,u):t.removeEventListener(n,h,u),(t.__l||(t.__l={}))[n]=o}else if("list"!==n&&"type"!==n&&!r&&n in t)d(t,n,null==o?"":o),null!=o&&!1!==o||t.removeAttribute(n);else{var a=r&&n!==(n=n.replace(/^xlink\:?/,""));null==o||!1===o?a?t.removeAttributeNS("http://www.w3.org/1999/xlink",n.toLowerCase()):t.removeAttribute(n):"function"!=typeof o&&(a?t.setAttributeNS("http://www.w3.org/1999/xlink",n.toLowerCase(),o):t.setAttribute(n,o))}else t.className=o||""}function d(t,n,e){try{t[n]=e}catch(t){}}function h(t){return this.__l[t.type](T.event&&T.event(t)||t)}function g(){for(var t;t=W.pop();)T.afterMount&&T.afterMount(t),t.componentDidMount&&t.componentDidMount()}function v(t,n,e,o,r,i){I++||(J=null!=r&&void 0!==r.ownerSVGElement,G=null!=t&&!("__preactattr_"in t));var u=_(t,n,e,o,i);return r&&u.parentNode!==r&&r.appendChild(u),--I||(G=!1,i||g()),u}function _(t,n,e,o,r){var i=t,u=J;if(null!=n&&"boolean"!=typeof n||(n=""),"string"==typeof n||"number"==typeof n)return t&&void 0!==t.splitText&&t.parentNode&&(!t._component||r)?t.nodeValue!=n&&(t.nodeValue=n):(i=document.createTextNode(n),t&&(t.parentNode&&t.parentNode.replaceChild(i,t),m(t,!0))),i.__preactattr_=!0,i;var a=n.nodeName;if("function"==typeof a)return N(t,n,e,o);if(J="svg"===a||"foreignObject"!==a&&J,a+="",(!t||!s(t,a))&&(i=f(a,J),t)){for(;t.firstChild;)i.appendChild(t.firstChild);t.parentNode&&t.parentNode.replaceChild(i,t),m(t,!0)}var c=i.firstChild,l=i.__preactattr_,p=n.children;if(null==l){l=i.__preactattr_={};for(var d=i.attributes,h=d.length;h--;)l[d[h].name]=d[h].value}return!G&&p&&1===p.length&&"string"==typeof p[0]&&null!=c&&void 0!==c.splitText&&null==c.nextSibling?c.nodeValue!=p[0]&&(c.nodeValue=p[0]):(p&&p.length||null!=c)&&b(i,p,e,o,G||null!=l.dangerouslySetInnerHTML),k(i,n.attributes,l),J=u,i}function b(t,n,e,o,r){var i,u,s,c,f,p=t.childNodes,d=[],h={},g=0,v=0,b=p.length,y=0,k=n?n.length:0;if(0!==b)for(var w=0;w<b;w++){var x=p[w],j=x.__preactattr_,O=k&&j?x._component?x._component.__k:j.key:null;null!=O?(g++,h[O]=x):(j||(void 0!==x.splitText?!r||x.nodeValue.trim():r))&&(d[y++]=x)}if(0!==k)for(var w=0;w<k;w++){c=n[w],f=null;var O=c.key;if(null!=O)g&&void 0!==h[O]&&(f=h[O],h[O]=void 0,g--);else if(!f&&v<y)for(i=v;i<y;i++)if(void 0!==d[i]&&a(u=d[i],c,r)){f=u,d[i]=void 0,i===y-1&&y--,i===v&&v++;break}f=_(f,c,e,o),s=p[w],f&&f!==t&&f!==s&&(null==s?t.appendChild(f):f===s.nextSibling?l(s):t.insertBefore(f,s))}if(g)for(var w in h)void 0!==h[w]&&m(h[w],!1);for(;v<=y;)void 0!==(f=d[y--])&&m(f,!1)}function m(t,n){var e=t._component;e?S(e):(null!=t.__preactattr_&&t.__preactattr_.ref&&t.__preactattr_.ref(null),!1!==n&&null!=t.__preactattr_||l(t),y(t))}function y(t){for(t=t.lastChild;t;){var n=t.previousSibling;m(t,!0),t=n}}function k(t,n,e){var o;for(o in e)n&&null!=n[o]||null==e[o]||p(t,o,e[o],e[o]=void 0,J);for(o in n)"children"===o||"innerHTML"===o||o in e&&n[o]===("value"===o||"checked"===o?t[o]:e[o])||p(t,o,e[o],e[o]=n[o],J)}function w(t){var n=t.constructor.name;(D[n]||(D[n]=[])).push(t)}function x(t,n,e){var o,r=D[t.name];if(t.prototype&&t.prototype.render?(o=new t(n,e),P.call(o,n,e)):(o=new P(n,e),o.constructor=t,o.render=j),r)for(var i=r.length;i--;)if(r[i].constructor===t){o.__b=r[i].__b,r.splice(i,1);break}return o}function j(t,n,e){return this.constructor(t,e)}function O(t,n,e,o,r){t.__x||(t.__x=!0,(t.__r=n.ref)&&delete n.ref,(t.__k=n.key)&&delete n.key,!t.base||r?t.componentWillMount&&t.componentWillMount():t.componentWillReceiveProps&&t.componentWillReceiveProps(n,o),o&&o!==t.context&&(t.__c||(t.__c=t.context),t.context=o),t.__p||(t.__p=t.props),t.props=n,t.__x=!1,0!==e&&(1!==e&&!1===T.syncComponentUpdates&&t.base?i(t):C(t,1,r)),t.__r&&t.__r(t))}function C(t,n,e,r){if(!t.__x){var i,u,a,s=t.props,f=t.state,l=t.context,p=t.__p||s,d=t.__s||f,h=t.__c||l,_=t.base,b=t.__b,y=_||b,k=t._component,w=!1;if(_&&(t.props=p,t.state=d,t.context=h,2!==n&&t.shouldComponentUpdate&&!1===t.shouldComponentUpdate(s,f,l)?w=!0:t.componentWillUpdate&&t.componentWillUpdate(s,f,l),t.props=s,t.state=f,t.context=l),t.__p=t.__s=t.__c=t.__b=null,t.__d=!1,!w){i=t.render(s,f,l),t.getChildContext&&(l=o(o({},l),t.getChildContext()));var j,N,P=i&&i.nodeName;if("function"==typeof P){var M=c(i);u=k,u&&u.constructor===P&&M.key==u.__k?O(u,M,1,l,!1):(j=u,t._component=u=x(P,M,l),u.__b=u.__b||b,u.__u=t,O(u,M,0,l,!1),C(u,1,e,!0)),N=u.base}else a=y,j=k,j&&(a=t._component=null),(y||1===n)&&(a&&(a._component=null),N=v(a,i,l,e||!_,y&&y.parentNode,!0));if(y&&N!==y&&u!==k){var U=y.parentNode;U&&N!==U&&(U.replaceChild(N,y),j||(y._component=null,m(y,!1)))}if(j&&S(j),t.base=N,N&&!r){for(var A=t,E=t;E=E.__u;)(A=E).base=N;N._component=A,N._componentConstructor=A.constructor}}if(!_||e?W.unshift(t):w||(t.componentDidUpdate&&t.componentDidUpdate(p,d,h),T.afterUpdate&&T.afterUpdate(t)),null!=t.__h)for(;t.__h.length;)t.__h.pop().call(t);I||r||g()}}function N(t,n,e,o){for(var r=t&&t._component,i=r,u=t,a=r&&t._componentConstructor===n.nodeName,s=a,f=c(n);r&&!s&&(r=r.__u);)s=r.constructor===n.nodeName;return r&&s&&(!o||r._component)?(O(r,f,3,e,o),t=r.base):(i&&!a&&(S(i),t=u=null),r=x(n.nodeName,f,e),t&&!r.__b&&(r.__b=t,u=null),O(r,f,1,e,o),t=r.base,u&&t!==u&&(u._component=null,m(u,!1))),t}function S(t){T.beforeUnmount&&T.beforeUnmount(t);var n=t.base;t.__x=!0,t.componentWillUnmount&&t.componentWillUnmount(),t.base=null;var e=t._component;e?S(e):n&&(n.__preactattr_&&n.__preactattr_.ref&&n.__preactattr_.ref(null),t.__b=n,l(n),w(t),y(n)),t.__r&&t.__r(null)}function P(t,n){this.__d=!0,this.context=n,this.props=t,this.state=this.state||{}}function M(t,n,e){return v(e,t,{},!1,n,!1)}var T={},U=[],A=[],E="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout,L=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,R=[],W=[],I=0,J=!1,G=!1,D={};o(P.prototype,{setState:function(t,n){var e=this.state;this.__s||(this.__s=o({},e)),o(e,"function"==typeof t?t(e,this.props):t),n&&(this.__h=this.__h||[]).push(n),i(this)},forceUpdate:function(t){t&&(this.__h=this.__h||[]).push(t),C(this,2)},render:function(){}});var F={h:e,createElement:e,cloneElement:r,Component:P,render:M,rerender:u,options:T};t.exports=F}()},R2pP:function(t,n,o){(function(t,n){!function(){function o(t){function n(t){return t.split("/").slice(-1).toString().replace(".js","")}return t.slice?o[n(t)]:function(e,r){t(e={exports:{}}),o[n(r)]=e.exports}}var r;"undefined"!=typeof window&&(r=window),void 0!==t&&(r=t),r=r||{};var i=r.console||{log:function(){}},u=n;o(function(t){var n={};n.fns=n.fn={is:function(t){return!!t&&"function"==typeof t}},n.bi={is:function(t){return t instanceof Boolean||"boolean"==typeof t}},n.num={is:function(t){return!o(t)&&(t-parseFloat(t)+1>=0||1/0===t||-1/0===t)}},n.text={is:function(t){return"string"==typeof t}},n.text.ify=function(t){return n.text.is(t)?t:"undefined"!=typeof JSON?JSON.stringify(t):t&&t.toString?t.toString():t},n.text.random=function(t,n){var e="";for(t=t||24,n=n||"0123456789ABCDEFGHIJKLMNOPQRSTUVWXZabcdefghijklmnopqrstuvwxyz";t>0;)e+=n.charAt(Math.floor(Math.random()*n.length)),t--;return e},n.text.match=function(t,e){var o=!1;if(t=t||"",e=n.text.is(e)?{"=":e}:e||{},n.obj.has(e,"~")&&(t=t.toLowerCase(),e["="]=(e["="]||e["~"]).toLowerCase()),n.obj.has(e,"="))return t===e["="];if(n.obj.has(e,"*")){if(t.slice(0,e["*"].length)!==e["*"])return!1;o=!0,t=t.slice(e["*"].length)}if(n.obj.has(e,"!")){if(t.slice(-e["!"].length)!==e["!"])return!1;o=!0}if(n.obj.has(e,"+")&&n.list.map(n.list.is(e["+"])?e["+"]:[e["+"]],function(n){if(!(t.indexOf(n)>=0))return!0;o=!0}))return!1;if(n.obj.has(e,"-")&&n.list.map(n.list.is(e["-"])?e["-"]:[e["-"]],function(n){if(!(t.indexOf(n)<0))return!0;o=!0}))return!1;if(n.obj.has(e,">")){if(!(t>e[">"]))return!1;o=!0}if(n.obj.has(e,"<")){if(!(t<e["<"]))return!1;o=!0}if(n.obj.has(e,"?")){if(!function(t,n){for(var e,o=-1,r=0;e=n[r++];)if(!~(o=t.indexOf(e,o+1)))return!1;return!0}(t,e["?"]))return!1;o=!0}return o},n.list={is:function(t){return t instanceof Array}},n.list.slit=Array.prototype.slice,n.list.sort=function(t){return function(n,e){return n&&e?(n=n[t],e=e[t],n<e?-1:n>e?1:0):0}},n.list.map=function(t,n,e){return a(t,n,e)},n.list.index=1,n.obj={is:function(t){return!!t&&(t instanceof Object&&t.constructor===Object||"Object"===Object.prototype.toString.call(t).match(/^\[object (\w+)\]$/)[1])}},n.obj.put=function(t,n,e){return(t||{})[n]=e,t},n.obj.has=function(t,n){return t&&Object.prototype.hasOwnProperty.call(t,n)},n.obj.del=function(t,n){if(t)return t[n]=null,delete t[n],t},n.obj.as=function(t,n,e,o){return t[n]=t[n]||(o===e?{}:e)},n.obj.ify=function(t){if(i(t))return t;try{t=JSON.parse(t)}catch(n){t={}}return t},function(){function t(t,n){u(this,n)&&e!==this[n]||(this[n]=t)}var e;n.obj.to=function(n,e){return e=e||{},a(n,t,e),e}}(),n.obj.copy=function(t){return t?JSON.parse(JSON.stringify(t)):t},function(){function t(t,n){var e=this.n;if(!e||!(n===e||i(e)&&u(e,n)))return!!n||void 0}n.obj.empty=function(n,e){return!n||!a(n,t,{n:e})}}(),function(){function t(n,e){if(2===arguments.length)return t.r=t.r||{},void(t.r[n]=e);t.r=t.r||[],t.r.push(n)}var r=Object.keys;n.obj.map=function(a,s,c){var f,l,p,d,h,g=0,v=e(s);if(t.r=null,r&&i(a)&&(d=r(a),h=!0),o(a)||d)for(l=(d||a).length;g<l;g++){var _=g+n.list.index;if(v){if((p=h?s.call(c||this,a[d[g]],d[g],t):s.call(c||this,a[g],_,t))!==f)return p}else if(s===a[h?d[g]:g])return d?d[g]:_}else for(g in a)if(v){if(u(a,g)&&(p=c?s.call(c,a[g],g,t):s(a[g],g,t))!==f)return p}else if(s===a[g])return g;return v?t.r:n.list.index?0:-1}}(),n.time={},n.time.is=function(t){return t?t instanceof Date:+(new Date).getTime()};var e=n.fn.is,o=n.list.is,r=n.obj,i=r.is,u=r.has,a=r.map;t.exports=n})(o,"./type"),o(function(t){t.exports=function t(n,e,o){if(!n)return{to:t};var n=(this.tag||(this.tag={}))[n]||(this.tag[n]={tag:n,to:t._={next:function(){}}});if(e instanceof Function){var r={off:t.off||(t.off=function(){if(this.next===t._.next)return!0;this===this.the.last&&(this.the.last=this.back),this.to.back=this.back,this.next=t._.next,this.back.to=this.to,this.the.last===this.the&&delete this.on.tag[this.the.tag]}),to:t._,next:e,the:n,on:this,as:o};return(r.back=n.last||n).to=r,n.last=r}return(n=n.to).next(e),n}})(o,"./onto"),o(function(t){function n(t,n,o,r,i){if(t<n)return{defer:!0};if(n<o)return{historical:!0};if(o<n)return{converge:!0,incoming:!0};if(n===o){if(r=e(r)||"",i=e(i)||"",r===i)return{state:!0};if(r<i)return{converge:!0,current:!0};if(i<r)return{converge:!0,incoming:!0}}return{err:"Invalid CRDT Data: "+r+" to "+i+" at "+n+" to "+o+"!"}}if("undefined"==typeof JSON)throw new Error("JSON is not included in this browser. Please load it first: ajax.cdnjs.com/ajax/libs/json2/20110223/json2.js");var e=JSON.stringify;t.exports=n})(o,"./HAM"),o(function(t){var n=o("./type"),e={};e.is=function(t){return t!==r&&(null===t||t!==1/0&&(!!(s(t)||u(t)||a(t))||(e.rel.is(t)||!1)))},e.rel={_:"#"},function(){function t(t,n){var e=this;return e.id?e.id=!1:n==i&&s(t)?void(e.id=t):e.id=!1}e.rel.is=function(n){if(n&&n[i]&&!n._&&f(n)){var e={};if(p(n,t,e),e.id)return e.id}return!1}}(),e.rel.ify=function(t){return l({},i,t)};var r,i=e.rel._,u=n.bi.is,a=n.num.is,s=n.text.is,c=n.obj,f=c.is,l=c.put,p=c.map;t.exports=e})(o,"./val"),o(function(t){var n=o("./type"),e=o("./val"),r={_:"_"};r.soul=function(t,n){return t&&t._&&t._[n||p]},r.soul.ify=function(t,n){return n="string"==typeof n?{soul:n}:n||{},t=t||{},t._=t._||{},t._[p]=n.soul||t._[p]||l(),t},r.soul._=e.rel._,function(){function t(t,n){if(n!==r._)return!e.is(t)||void(this.cb&&this.cb.call(this.as,t,n,this.n,this.s))}r.is=function(n,e,o){var i;return!!a(n)&&(!!(i=r.soul(n))&&!c(n,t,{as:o,cb:e,s:i,n:n}))}}(),function(){function t(t,n){var o,r=this.o;if(r.map)return o=r.map.call(this.as,t,""+n,r.node),void(void 0===o?s(r.node,n):r.node&&(r.node[n]=o));e.is(t)&&(r.node[n]=t)}r.ify=function(n,e,o){return e?"string"==typeof e?e={soul:e}:e instanceof Function&&(e={map:e}):e={},e.map&&(e.node=e.map.call(o,n,i,e.node||{})),(e.node=r.soul.ify(e.node||{},e))&&c(n,t,{o:e,as:o}),e.node}}();var i,u=n.obj,a=u.is,s=u.del,c=u.map,f=n.text,l=f.random,p=r.soul._;t.exports=r})(o,"./node"),o(function(t){function n(){var t;return t=c?f+c.now():i(),u<t?(a=0,u=t+n.drift):u=t+(a+=1)/s+n.drift}var e=o("./type"),r=o("./node"),i=e.time.is,u=-1/0,a=0,s=1e3,c="undefined"!=typeof performance&&(performance.timing&&performance),f=c&&c.timing&&c.timing.navigationStart||(c=!1);n._=">",n.drift=0,n.is=function(t,e,o){var r=e&&t&&t[w]&&t[w][n._]||o;if(r)return m(r=r[e])?r:-1/0},n.lex=function(){return n().toString(36).replace(".","")},n.ify=function(t,e,o,i,u){if(!t||!t[w]){if(!u)return;t=r.soul.ify(t,u)}var a=d(t[w],n._);return l!==e&&e!==w&&(m(o)&&(a[e]=o),l!==i&&(t[e]=i)),t},n.to=function(t,e,o){var i=t[e];return g(i)&&(i=_(i)),n.ify(o,e,n.is(t,e),i,r.soul(t))},function(){function t(t,e){w!==e&&n.ify(this.o,e,this.s)}n.map=function(e,o,r){var i,u=g(u=e||o)?u:null;return e=k(e=e||o)?e:null,u&&!e?(o=m(o)?o:n(),u[w]=u[w]||{},v(u,t,{o:u,s:o}),u):(r=r||g(o)?o:i,o=m(o)?o:n(),function(n,u,a,s){if(!e)return t.call({o:a,s:o},n,u),n;e.call(r||this||{},n,u,a,s),h(a,u)&&i===a[u]||t.call({o:a,s:o},n,u)})}}();var l,p=e.obj,d=p.as,h=p.has,g=p.is,v=p.map,_=p.copy,b=e.num,m=b.is,y=e.fn,k=y.is,w=r._;t.exports=n})(o,"./state"),o(function(t){var n=o("./type"),e=o("./val"),r=o("./node"),i={};!function(){function t(t,e){if(!t||e!==r.soul(t)||!r.is(t,this.fn,this.as))return!0;this.cb&&(n.n=t,n.as=this.as,this.cb.call(n.as,t,e,n))}function n(t){t&&r.is(n.n,t,n.as)}i.is=function(n,e,o,r){return!(!n||!s(n)||l(n))&&!d(n,t,{cb:e,fn:o,as:r})}}(),function(){function t(t,i){var u;return(u=l(t,i))?u:(i.env=t,i.soul=o,r.ify(i.obj,n,i)&&(t.graph[e.rel.is(i.rel)]=i.node),i)}function n(n,o,i){var s,l,p=this,d=p.env;if(r._===o&&f(n,e.rel._))return i._;if(s=a(n,o,i,p,d)){if(o||(p.node=p.node||i||{},f(n,r._)&&(p.node._=h(n._)),p.node=r.soul.ify(p.node,e.rel.is(p.rel)),p.rel=p.rel||e.rel.ify(r.soul(p.node))),(l=d.map)&&(l.call(d.as||{},n,o,i,p),f(i,o))){if(n=i[o],u===n)return void c(i,o);if(!(s=a(n,o,i,p,d)))return}if(!o)return p.node;if(!0===s)return n;if(l=t(d,{obj:n,path:p.path.concat(o)}),l.node)return l.rel}}function o(t){var n=this,o=e.rel.is(n.rel),i=n.env.graph;n.rel=n.rel||e.rel.ify(t),n.rel[e.rel._]=t,n.node&&n.node[r._]&&(n.node[r._][e.rel._]=t),f(i,o)&&(i[t]=i[o],c(i,o))}function a(t,n,o,r,i){var u;return!!e.is(t)||(s(t)?1:(u=i.invalid)?(t=u.call(i.as||{},t,n,o),a(t,n,o,r,i)):void(i.err="Invalid value at '"+r.path.concat(n).join(".")+"'!"))}function l(t,n){for(var e,o=t.seen,r=o.length;r--;)if(e=o[r],n.obj===e.obj)return e;o.push(n)}i.ify=function(n,o,r){var i={path:[],obj:n};return o?"string"==typeof o?o={soul:o}:o instanceof Function&&(o.map=o):o={},o.soul&&(i.rel=e.rel.ify(o.soul)),o.graph=o.graph||{},o.seen=o.seen||[],o.as=o.as||r,t(o,i),o.root=i.node,o.graph}}(),i.node=function(t){var n=r.soul(t);if(n)return p({},n,t)},function(){function t(t,n){var o,u;if(r._===n){if(l(t,e.rel._))return;return void(this.obj[n]=h(t))}return(o=e.rel.is(t))?(u=this.opt.seen[o])?void(this.obj[n]=u):void(this.obj[n]=this.opt.seen[o]=i.to(this.graph,o,this.opt)):void(this.obj[n]=t)}i.to=function(n,e,o){if(n){var r={};return o=o||{seen:{}},d(n[e],t,{obj:r,graph:n,opt:o}),r}}}();var u,a=n.obj,s=a.is,c=a.del,f=a.has,l=a.empty,p=a.put,d=a.map,h=a.copy;t.exports=i})(o,"./graph"),o(function(t){o("./onto"),t.exports=function(t,n){if(this.on){if(!(t instanceof Function)){if(!t||!n)return;var e=t["#"]||t,o=(this.tag||empty)[e];if(!o)return;return o=this.on(e,n),clearTimeout(o.err),!0}var e=n&&n["#"]||Math.random().toString(36).slice(2);if(!t)return e;var r=this.on(e,t,n);return r.err=r.err||setTimeout(function(){r.next({err:"Error: No ACK received yet."}),r.off()},(this.opt||{}).lack||9e3),e}}})(o,"./ask"),o(function(t){function n(t){var n={s:{}};return t=t||{max:1e3,age:9e3},n.check=function(t){return!!n.s[t]&&n.track(t)},n.track=function(o){return n.s[o]=r(),n.to||(n.to=setTimeout(function(){e.obj.map(n.s,function(o,i){t.age>r()-o||e.obj.del(n.s,i)}),n.to=null},t.age)),o},n}var e=o("./type"),r=e.time.is;t.exports=n})(o,"./dup"),o(function(t){function n(t){return t instanceof n?(this._={gun:this}).gun:this instanceof n?n.create(this._={gun:this,opt:t}):new n(t)}n.is=function(t){return t instanceof n},n.version=.9,n.chain=n.prototype,n.chain.toJSON=function(){};var e=o("./type");e.obj.to(e,n),n.HAM=o("./HAM"),n.val=o("./val"),n.node=o("./node"),n.state=o("./state"),n.graph=o("./graph"),n.on=o("./onto"),n.ask=o("./ask"),n.dup=o("./dup"),n._={node:n.node._,soul:n.val.rel._,state:n.state._,field:".",value:"="},function(){function t(t){var e,o=this,r=o.as,i=r.gun;(e=t["#"])||(e=t["#"]=f(9)),r.dup.check(e)||(r.dup.track(e),t=h(t),r.ask(t["@"],t)||(t.get&&n.on.get(t,i),t.put&&n.on.put(t,i)),r.on("out",t))}n.create=function(e){e.root=e.root||e.gun,e.graph=e.graph||{},e.on=e.on||n.on,e.ask=e.ask||n.ask,e.dup=e.dup||n.dup();var o=e.gun.opt(e.opt);return e.once||(e.on("in",t,e),e.on("out",t,e)),e.once=1,o}}(),function(){function t(t,e,o,r){var i=this,u=n.state.is(o,e);if(!u)return i.err="Error: No state on '"+e+"' in node '"+r+"'!";var a=i.graph[r]||m,s=n.state.is(a,e,!0),c=a[e],f=n.HAM(i.machine,u,s,t,c);if(!f.incoming)return void(f.defer&&(i.defer=u<(i.defer||1/0)?u:i.defer));i.put[r]=n.state.to(o,e,i.put[r]),(i.diff||(i.diff={}))[r]=n.state.to(o,e,i.diff[r])}function e(t,n){var e=this.gun._,r=(e.next||m)[n];if(r){var i=this.map[n]={put:this.node=t,get:this.soul=n,gun:this.at=r};this.ack&&(i["@"]=this.ack),g(t,o,this)}}function o(t,e){var o=this.graph,r=this.soul,i=this.at._;o[r]=n.state.to(this.node,e,o[r]),i.put=n.state.to(this.node,e,i.put)}function i(t){var n;if(t.gun)return(n=this.gun._).tag.node?void n.on("node",function(t){this.off(),t.gun._.on("in",t)}).on.on("node",t):void t.gun._.on("in",t)}n.on.put=function(o,u){var a=u._,s={gun:u,graph:a.graph,put:{},map:{},machine:n.state(),ack:o["@"]};if(n.graph.is(o.put,null,t,s)||(s.err="Error: Invalid graph!"),s.err)return a.on("in",{"@":o["#"],err:n.log(s.err)});g(s.put,e,s),g(s.map,i,s),r!==s.defer&&setTimeout(function(){n.on.put(o,u)},s.defer-a.machine),s.diff&&a.on("put",h(o,{put:s.diff}))},n.on.get=function(t,e){var o=e._,r=t.get[_],i=o.graph[r],u=t.get[b],a=o.next||(o.next={}),s=(a[r]||m)._;if(!i||!s)return o.on("get",t);if(u){if(!d(i,u))return o.on("get",t);i=n.state.to(i,u)}else i=n.obj.copy(i);i=n.graph.node(i),o.on("in",{"@":t["#"],put:i,gun:e}),o.on("get",t)}}(),function(){n.chain.opt=function(t){t=t||{};var e=this,o=e._,r=t.peers||t;return p(t)||(t={}),p(o.opt)||(o.opt=t),c(r)&&(r=[r]),a(r)&&(r=g(r,function(t,n,e){e(t,{url:t})}),p(o.opt.peers)||(o.opt.peers={}),o.opt.peers=h(r,o.opt.peers)),o.opt.peers=o.opt.peers||{},h(t,o.opt),n.on("opt",o),o.opt.uuid=o.opt.uuid||function(){return v()+f(12)},e}}();var r,a=n.list.is,s=n.text,c=s.is,f=s.random,l=n.obj,p=l.is,d=l.has,h=l.to,g=l.map,v=n.state.lex,_=n._.soul,b=n._.field,m={};i.debug=function(t,n){return i.debug.i&&t===i.debug.i&&i.debug.i++&&(i.log.apply(i,arguments)||n)},n.log=function(){return!n.log.off&&i.log.apply(i,arguments),[].slice.call(arguments).join(" ")},n.log.once=function(t,e,o){return(o=n.log.once)[t]=o[t]||0,o[t]++||n.log(e)},n.log.once("welcome","Hello wonderful person! :) Thanks for using GUN, feel free to ask for help on https://gitter.im/amark/gun and ask StackOverflow questions tagged with 'gun'!"),"undefined"!=typeof window&&(window.Gun=n),void 0!==u&&(u.exports=n),t.exports=n})(o,"./root"),o(function(){var t=o("./root");t.chain.back=function(o,r){var i;if(-1===(o=o||1)||1/0===o)return this._.root;if(1===o)return this._.back||this;var u=this,a=u._;if("string"==typeof o&&(o=o.split(".")),!(o instanceof Array)){if(o instanceof Function){for(var s,i={back:u};(i=i.back)&&(i=i._)&&!(s=o(i,r)););return s}return t.num.is(o)?a.back.back(o-1):this}var c=0,f=o.length,i=a;for(c;c<f;c++)i=(i||e)[o[c]];return n!==i?r?u:i:(i=a.back)?i.back(o,r):void 0};var n,e={}})(o,"./back"),o(function(){function t(t){var n,e=this.as,o=e.back._,r=e.root._;if(t.gun||(t.gun=e.gun),this.to.next(t),n=t.get){if(n["#"]||e.soul){if(n["#"]=n["#"]||e.soul,t["#"]||(t["#"]=b()),o=r.gun.get(n["#"])._,n=n["."]){if(h(o.put,n))return void o.on("in",{gun:o.gun,put:f.state.to(o.put,n),get:o.get})}else{if(h(o,"put")&&o.on("in",o),o.ack)return;t.gun=o.gun,o.ack=-1}return r.ask(c,t),r.on("in",t)}if(r.now&&(r.now[e.id]=r.now[e.id]||!0),n["."])return e.get?(t={get:{".":e.get},gun:e.gun},(o.ask||(o.ask={}))[e.get]=t.gun,o.on("out",t)):(t={get:{},gun:e.gun},o.on("out",t));if(e.ack=e.ack||-1,e.get)return t.gun=e.gun,n["."]=e.get,(o.ask||(o.ask={}))[e.get]=t.gun,o.on("out",t)}return o.on("out",t)}function n(t){t=t._||t;var n,o=this,i=this.as,s=t.gun,c=s._,p=t.put;if(i.get&&t.get!==i.get&&(t=v(t,{get:i.get})),i.field&&c!==i&&(t=v(t,{gun:i.gun}),c.ack&&(i.ack=c.ack)),l===p){if(o.to.next(t),i.soul)return;return r(i,t,o),i.field&&a(i,t),g(c.echo,i.id),void g(i.map,c.id)}return i.soul?(o.to.next(t),r(i,t,o),void _(p,u,{at:t,cat:i})):(n=f.val.rel.is(p))?(e(i,t,c,n),o.to.next(t),void r(i,t,o)):f.val.is(p)?(i.field||i.soul?a(i,t):(c.field||c.soul)&&((c.echo||(c.echo={}))[i.id]=i,(i.map||(i.map={}))[c.id]=i.map[c.id]||{at:c}),o.to.next(t),void r(i,t,o)):(i.field&&c!==i&&h(c,"put")&&(i.put=c.put),(n=f.node.soul(p))&&c.field&&(c.put=i.root.get(n)._.put),o.to.next(t),r(i,t,o),e(i,t,c,n),void _(p,u,{at:t,cat:i}))}function e(t,n,o,r){if(r&&y!==t.get){var i=t.root.get(r)._;if(t.has?o=i:o.has&&e(o,n,o,r),o!==t){(o.echo||(o.echo={}))[t.id]=t,t.has&&!(t.map||p)[o.id]&&a(t,n),i=(t.map||(t.map={}))[o.id]=t.map[o.id]||{at:o};var u=t.root._.now;if(r===i.rel){if(!u)return;if(l===u[t.id])return;if((u._||(u._={}))[t.id])return;u._[t.id]=!0}s(t,i.rel=r)}}}function r(t,n,e){t.echo&&((t.has||t.field)&&(n=v(n,{event:e})),_(t.echo,i,n))}function i(t){t.on("in",this)}function u(t,n){var e,o,r,i=this.cat,u=i.next||p,a=this.at;(y!==n||u[n])&&(e=u[n])&&(r=e._,r.field?(t&&t[m]&&f.val.rel.is(t)===f.node.soul(r.put)||(r.put=t),o=e):o=a.gun.get(n),r.on("in",{put:t,get:n,gun:o,via:a}))}function a(t,n){if(t.has||t.soul){var e=t.map,o=t.root._;t.map=null,(o.now&&o.now[t.id]||l!==n.put||n["@"]||null!==e)&&(l===e&&f.val.rel.is(t.put)||(_(e,function(n){(n=n.at)&&g(n.echo,t.id)}),_(t.next,function(t,n){var e=t._;e.put=l,e.ack&&(e.ack=-1),e.on("in",{get:n,gun:t,put:l})})))}}function s(t,n){var e=t.root.get(n)._;t.ack&&(e.on("out",{get:{"#":n}}),!t.ask)||(_(t.ask||t.next,function(t,e){t._.on("out",{get:{"#":n,".":e}})}),f.obj.del(t,"ask"))}function c(t){var n=this.as,e=n.get||p,o=n.gun._;if(o.ack&&(o.ack=o.ack+1||1),!t.put||y==e["."]||e["."]&&!h(t.put[e["#"]],o.get)){if(o.put!==l)return;return void o.on("in",{get:o.get,put:o.put=l,gun:o.gun,"@":t["@"]})}t.gun=o.root,f.on.put(t,o.root)}var f=o("./root");f.chain.chain=function(){var e,o=this._,r=new this.constructor(this),i=r._;return i.root=e=o.root,i.id=++e._.once,i.back=this,i.on=f.on,i.on("in",n,i),i.on("out",t,i),r},f.chain.chain.input=n;var l,p={},d=f.obj,h=d.has,g=d.del,v=d.to,_=d.map,b=f.text.random,m=f._.soul,y=f.node._})(o,"./chain"),o(function(){function t(t,n){var e=n._,o=e.next,r=n.chain(),i=r._;return o||(o=e.next={}),o[i.get=t]=r,e.root===n?i.soul=t:(e.soul||e.field||e.has)&&(i.field=i.has=t,u(e.put,t)),r}function n(t){var n,e=this,o=e.as,i=t.gun,u=i._,s=u.root._,f=t.put;if((n=s.now)&&e!==n[o.now])return e.to.next(t);r===f&&(f=u.put),(n=f)&&n[c._]&&(n=c.is(n))&&(n=u.root.get(n)._,r!==n.put&&(t=a(t,{put:n.put}))),o.use(t,t.event||e),e.to.next(t)}var e=o("./root");e.chain.get=function(o,r,i){if("string"!=typeof o){if(o instanceof Function){var u,a=this,c=a._,l=c.root._,p=l.now;return i=r||{},i.use=o,i.out=i.out||{},i.out.get=i.out.get||{},u=c.on("in",n,i),(l.now={$:1})[i.now=c.id]=u,c.on("out",i.out),l.now=p,a}return s(o)?this.get(""+o,r,i):((i=this.chain())._.err={err:e.log("Invalid get request!",o)},r&&r.call(i,i._.err),i)}var a,p,d=this,h=d._,g=h.next||f;return(a=g[o])||(a=t(o,d)),(p=h.stun)&&(a._.stun=a._.stun||p),r&&r instanceof Function&&a.get(r,i),a};var r,i=e.obj,u=i.has,a=e.obj.to,s=e.num.is,c=e.val.rel,f={}})(o,"./get"),o(function(){function t(t){t.batch=r;var n=t.opt||{},e=t.env=l.state.map(a,n.state);if(e.soul=t.soul,t.graph=l.graph.ify(t.data,e,t),e.err)return(t.ack||b).call(t,t.out={err:l.log(e.err)}),void(t.res&&t.res());t.batch()}function n(t){return void(t&&t())}function r(){var t=this;t.graph&&!v(t.stun,u)&&(t.res=t.res||function(t){t&&t()},t.res(function(){var n=t.gun.back(-1)._,e=n.ask(function(n){this.off(),t.ack&&t.ack(n,this)},t.opt),o=n.root._.now;d.del(n.root._,"now"),t.ref._.now=!0,t.ref._.on("out",{gun:t.ref,put:t.out=t.env.graph,opt:t.opt,"#":e}),d.del(t.ref._,"now"),n.root._.now=o},t),t.res&&t.res())}function u(t){if(t)return!0}function a(t,n,e,o){var r=this;!n&&o.path.length&&(r.res||m)(function(){var t=o.path,n=r.ref,e=0,i=t.length;for(e;e<i;e++)n=n.get(t[e]);if(r.not||l.node.soul(o.obj)){var u=l.node.soul(o.obj)||(n.back("opt.uuid")||l.text.random)();return u?(n.back(-1).get(u),void o.soul(u)):((r.stun=r.stun||{})[t]=!0,void n.back("opt.uuid")(function(e,i){if(e)return l.log(e);n.back(-1).get(i),o.soul(i),r.stun[t]=!1,r.batch()}))}(r.stun=r.stun||{})[t]=!0,n.get("_").get(s,{as:{at:o,as:r}})},{as:r,at:o})}function s(t,n){var o=this.as,r=o.at;if(o=o.as,t.gun&&t.gun._.back){n.off(),t=t.gun._.back._;var i=i||l.node.soul(r.obj)||l.node.soul(t.put)||l.val.rel.is(t.put)||(o.gun.back("opt.uuid")||l.text.random)();if(!i)return void t.gun.back("opt.uuid")(function(n,i){if(n)return l.log(e);c(t,i,r,o)});c(t,i,r,o)}}function c(t,n,e,o){t.gun.back(-1).get(n),e.soul(n),o.stun[e.path]=!1,o.batch()}function f(t,n){var e=this.as;if(t.gun&&t.gun._){if(t.err)return void i.log("Please report this as an issue! Put.any.err");var o,r=t.gun._.back._,u=r.put,a=e.opt||{};if(!(o=e.ref)||!o._.now){if(n.off(),e.ref!==e.gun){if(!(o=e.gun._.get||r.get))return void i.log("Please report this as an issue! Put.no.get");e.data=g({},o,e.data),o=null}if(p===u){if(!r.get)return;r.soul||(o=r.gun.back(function(t){if(t.soul)return t.soul;e.data=g({},t.get,e.data)})),o=o||r.get,r=r.root.get(o)._,e.not=e.soul=o,u=e.data}if(!e.not&&!(e.soul=l.node.soul(u))&&!(e.soul=e.path&&h(e.data)?(a.uuid||r.root._.opt.uuid||l.text.random)():t.soul||r.soul||(a.uuid||r.root._.opt.uuid||l.text.random)()))return void ref.back("opt.uuid")(function(t,n){if(t)return l.log(t);e.ref.put(e.data,e.soul=n,e)});e.ref.put(e.data,e.soul,e)}}}var l=o("./root");l.chain.put=function(e,o,r){var i,u=this,a=u._,s=a.root;return r=r||{},r.data=e,r.gun=r.gun||u,"string"==typeof o?r.soul=o:r.ack=o,a.soul&&(r.soul=a.soul),r.soul||s===u?h(r.data)?(r.soul=r.soul||(r.not=l.node.soul(r.data)||(s._.opt.uuid||l.text.random)()))?(r.gun=u=s.get(r.soul),r.ref=r.gun,t(r),u):(s._.opt.uuid(function(t,n){if(t)return l.log(t);(r.ref||r.gun).put(r.data,r.soul=n,r)}),u):((r.ack||b).call(r,r.out={err:l.log("Data saved to the root level of the graph must be a node (an object), not a",typeof r.data,'of "'+r.data+'"!')}),r.res&&r.res(),u):l.is(e)?(e.get("_").get(function(t,n,e){if(n.off(),!(e=t.gun)||!(e=e._.back)||!e._.soul)return l.log("The reference you are saving is a",typeof t.put,'"'+r.put+'", not a node (object)!');u.put(l.val.rel.ify(e._.soul),o,r)}),u):(r.ref=r.ref||s===(i=a.back)?u:i,r.ref._.soul&&l.val.is(r.data)&&a.get?(r.data=g({},a.get,r.data),r.ref.put(r.data,r.soul,r),u):(r.ref.get("_").get(f,{as:r}),r.out||(r.res=r.res||n,r.gun._.stun=r.ref._.stun),u))};var p,d=l.obj,h=d.is,g=d.put,v=d.map,_={},b=function(){},m=function(t,n){t.call(n||_)}})(o,"./put"),o(function(t){var n=o("./root");o("./chain"),o("./back"),o("./put"),o("./get"),t.exports=n})(o,"./index"),o(function(){function t(t,n){var o,i=this,u=t.gun,a=u._,c=a.put||t.put,o=i.last,f=a.id+t.get;if(r!==c){if(c&&c[s._]&&(o=s.is(c))){if(o=a.root.get(o)._,r===o.put)return;c=o.put}i.change&&(c=t.put),(o.put!==c||o.get!==f||e.node.soul(c))&&(o.put=c,o.get=f,a.last=c,i.as?i.ok.call(i.as,t,n):i.ok.call(u,c,t.get,t,n))}}function n(t,o,i){var u,a=this.as,c=a.cat,f=t.gun,l=f._,p=l.put||t.put;if(u=e.node.soul(p)||s.is(p)){if(u=c.root.get(u)._,r===u.put)return;p=u.put}if(o.wait&&clearTimeout(o.wait),!i)return void(o.wait=setTimeout(function(){n.call({as:a},t,o,o.wait||1)},a.wait||99));if(c.field||c.soul){if(o.off())return}else{if((a.seen=a.seen||{})[l.id])return;a.seen[l.id]=!0}a.ok.call(t.gun||a.gun,p,t.get)}var e=o("./index");e.chain.on=function(n,e,o,r){var i,u,a=this,s=a._;if("string"==typeof n)return e?(i=s.on(n,e,o||s,r),o&&o.gun&&(o.subs||(o.subs=[])).push(i),u=function(){i&&i.off&&i.off(),u.off()},u.off=a.off.bind(a)||c,a.off=u,a):s.on(n);var f=e;return f=!0===f?{change:!0}:f||{},f.ok=n,f.last={},a.get(t,f),a},e.chain.val=function(t,o){var i=this,u=i._,a=u.put;if(0<u.ack&&r!==a)return(t||c).call(i,a,u.get),i;if(!t){e.log.once("valonce","Chainable val is experimental, its behavior and API may change moving forward. Please play with it and report bugs and ideas on how to improve it.");var s=i.chain();return s._.val=i.val(function(){s._.on("in",i._)}),s}return(o=o||{}).ok=t,o.cat=u,o.out={"#":e.text.random(9)},i.get(n,{as:o}),o.async=!0,i},e.chain.off=function(){var t,n=this,e=n._,o=e.back||{},r=o._;if(r)return(t=r.next)&&t[e.get]&&a(t,e.get),(t=r.ask)&&a(t,e.get),(t=r.put)&&a(t,e.get),(t=e.soul)&&a(r.root._.graph,t),(t=e.map)&&u(t,function(t){t.rel&&r.root.get(t.rel).off()}),(t=e.next)&&u(t,function(t){t.off()}),e.on("off",{}),n};var r,i=e.obj,u=i.map,a=i.del,s=e.val.rel,c=function(){}})(o,"./on"),o(function(){function t(t){t.put&&!e.val.is(t.put)&&(this.as.val&&this.off(),i(t.put,n,{at:this.as,msg:t}),this.to.next(t))}function n(t,n){if(a!==n){var e=this.msg,o=e.gun,r=this.at,i=o.get(n)._;(i.echo||(i.echo={}))[r.id]=r}}var e=o("./index");e.chain.map=function(n){var o,i=this,a=i._;return n?(e.log.once("mapfn","Map functions are experimental, their behavior and API may change moving forward. Please play with it and report bugs and ideas on how to improve it."),o=i.chain(),i.map().on(function(t,i,a,s){var c=(n||u).call(this,t,i,a,s);if(r!==c)return e.is(c)?void o._.on("in",c._):void o._.on("in",{get:i,put:c,gun:o})}),o):(o=a.fields)?o:(o=a.fields=i.chain(),o._.val=i.back("val"),o._.MAPOF=a.soul,i.on("in",t,o._),o)};var r,i=e.obj.map,u=function(){},a=e.node._})(o,"./map"),o(function(){var t=o("./index");t.chain.set=function(n,e,o){var r,i=this;if(e=e||function(){},o=o||{},o.item=o.item||n,r=t.node.soul(n))return i.set(i.back(-1).get(r),e,o);if(!t.is(n)){var u=i._.root._.opt.uuid()||t.state.lex()+t.text.random(12);return t.obj.is(n)?i.set(i._.root.put(n,u),e,o):i.get(u).put(n)}return n.get("_").get(function(n,r){if(n.gun&&n.gun._.back){r.off(),n=n.gun._.back._;var u={},a=n.put,s=t.node.soul(a);if(!s)return e.call(i,{err:t.log('Only a node can be linked! Not "'+a+'"!')});i.put(t.obj.put(u,s,t.val.rel.ify(s)),e,o)}},{wait:0}),n}})(o,"./set"),o(function(){if("undefined"!=typeof Gun){var t,n=function(){};"undefined"!=typeof window&&(t=window);var e=t.localStorage||{setItem:n,removeItem:n,getItem:n};Gun.on("opt",function(t){this.to.next(t);var n=t.opt;if(!t.once&&!1!==n.localStorage){n.file=n.file||n.prefix||"gun/";var o,r={},i=0,u=Gun.obj.ify(e.getItem(n.file))||{};t.on("put",function(t){if(this.to.next(t),Gun.graph.is(t.put,null,a),t["@"]||(r[t["#"]]=!0),(i+=1)>=(n.batch||1e3))return s();o||(o=setTimeout(s,n.wait||1))}),t.on("get",function(e){this.to.next(e);var o,r,i=e.get;if(i&&(o=i[Gun._.soul])){var a=i["."];r=u[o]||void 0,r&&a&&(r=Gun.state.to(r,a)),(r||Gun.obj.empty(n.peers))&&t.on("in",{"@":e["#"],put:Gun.graph.node(r),how:"lS"})}});var a=function(t,n,e,o){u[o]=Gun.state.to(e,n,u[o])},s=function(){var a;i=0,clearTimeout(o),o=!1;var s=r;r={};try{e.setItem(n.file,JSON.stringify(u))}catch(t){Gun.log(a=t||"localStorage failure")}(a||Gun.obj.empty(n.peers))&&Gun.obj.map(s,function(n,e){t.on("in",{"@":e,err:a,ok:0})})}}})}})(o,"./adapters/localStorage"),o(function(){var t,n=o("./index");"undefined"!=typeof WebSocket?t=WebSocket:("undefined"!=typeof webkitWebSocket&&(t=webkitWebSocket),"undefined"!=typeof mozWebSocket&&(t=mozWebSocket)),n.on("opt",function(o){function r(t){var n=this,e=f,o=t.wire||u(t,n);if(o)return o.readyState===o.OPEN?void o.send(e):void(t.queue=t.queue||[]).push(e)}function i(t,n,o){if(o&&t){try{t=JSON.parse(t.data||t)}catch(t){}if(t instanceof Array)for(var r,u=0;r=t[u++];)i(r,n,o);else 1==c.who&&(t.ws=e),o.on("in",t)}}function u(e,u){if(e&&e.url){var s=e.url.replace("http","ws"),c=e.wire=new t(s);return c.onclose=function(){o.on("bye",e),a(e,u)},c.onerror=function(){a(e,u)},c.onopen=function(){o.on("hi",e);var t=e.queue;e.queue=[],n.obj.map(t,function(t){f=t,r.call(u,e)})},c.onmessage=function(t){i(t,e,u)},c}}function a(t,n){clearTimeout(t.defer),t.defer=setTimeout(function(){u(t,n)},2e3)}this.to.next(o);var s=o.opt;if(!o.once&&t&&!1!==s.WebSocket){var c=s.ws||(s.ws={});if(c.who=0,n.obj.map(s.peers,function(){++c.who}),!o.once){var f;o.on("out",function(t){if(this.to.next(t),!t.ws||1!=c.who){if(f=JSON.stringify(t),c.drain)return void c.drain.push(f);c.drain=[],setTimeout(function(){if(c.drain){var t=c.drain;c.drain=null,t.length&&(f=JSON.stringify(t),n.obj.map(s.peers,r,o))}},s.wait||1),n.obj.map(s.peers,r,o)}})}}});var e=function(){}})(o,"./adapters/websocket")}()}).call(n,o("h6ac"),o("l262")(t))},h6ac:function(t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},l262:function(t){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},pwNi:function(t,n,e){"use strict";var o=e("KM04");"serviceWorker"in navigator&&"https:"===location.protocol&&navigator.serviceWorker.register(e.p+"sw.js");var r=function(t){return t&&t.default?t.default:t};if("function"==typeof r(e("JkW7"))){var i=document.body.firstElementChild,u=function(){var t=r(e("JkW7"));i=(0,o.render)((0,o.h)(t),document.body,i)};u()}},rq4c:function(){},sw5u:function(t,n,e){"use strict";function o(t,n){var e={};for(var o in t)n.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}function r(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}function i(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}Object.defineProperty(n,"__esModule",{value:!0}),n.Link=n.Match=void 0;var u=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},a=e("KM04"),s=e("/QC5"),c=n.Match=function(t){function n(){for(var n,e,o,i=arguments.length,u=Array(i),a=0;a<i;a++)u[a]=arguments[a];return n=e=r(this,t.call.apply(t,[this].concat(u))),e.update=function(t){e.nextUrl=t,e.setState({})},o=n,r(e,o)}return i(n,t),n.prototype.componentDidMount=function(){s.subscribers.push(this.update)},n.prototype.componentWillUnmount=function(){s.subscribers.splice(s.subscribers.indexOf(this.update)>>>0,1)},n.prototype.render=function(t){var n=this.nextUrl||(0,s.getCurrentUrl)(),e=n.replace(/\?.+$/,"");return this.nextUrl=null,t.children[0]&&t.children[0]({url:n,path:e,matches:e===t.path})},n}(a.Component),f=function(t){var n=t.activeClassName,e=t.path,r=o(t,["activeClassName","path"]);return(0,a.h)(c,{path:e||r.href},function(t){var e=t.matches;return(0,a.h)(s.Link,u({},r,{class:[r.class||r.className,e&&n].filter(Boolean).join(" ")}))})};n.Link=f,n.default=c,c.Link=f},u3et:function(t){t.exports={header:"header__3QGkI",active:"active__3gItZ"}}});
//# sourceMappingURL=bundle.b272e.js.map